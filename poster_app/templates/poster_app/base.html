<!DOCTYPE html>
{% load static %}
{% load tags %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Poster Shop</title>

    <script src="https://polyfill.io/v3/polyfill.min.js?version=3.52.1&features=fetch"></script>
    <script src="https://js.stripe.com/v3/"></script>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
    integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <link rel="stylesheet" href="{% static 'index.css' %}">
    <link rel="stylesheet" href="{% static 'detail.css' %}">
    <link rel="stylesheet" href="{% static 'cart_view.css' %}">
    <link rel="stylesheet" href="{% static 'checkout.css' %}">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Benne&display=swap" rel="stylesheet">

    <script type="text/javascript">

        function getCookie(name) {
            var cookieValue = null;
            if (document.cookie && document.cookie != '') {
                var cookies = document.cookie.split(';');
                for (var i = 0; i < cookies.length; i++) {
                    var cookie = cookies[i].trim();
                    // Does this cookie string begin with the name we want?
                    if (cookie.substring(0, name.length + 1) == (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                    }
                }
            }
            return cookieValue;
        }

        function uuidv4() {
            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
                return v.toString(16);
            });
        }

        let device = getCookie('device')

        if (device == null || device == undefined){
            device = uuidv4()

        }

        
        document.cookie = 'device=' + device + ';domain=;path=/'


    </script>

   

</head>
<body>
    
    <div class="custom-navbar">
        {% if user.is_authenticated %}
        <ul>
            <li><a href="{% url 'poster_app:index' %}">Home</a></li>
            <li><a href="#">Artists</a></li>
            <li><a href="{% url 'admin:index' %}">Admin</a></li>
            <li><a href="{% url 'poster_app:cart' %}">Cart</a></li>
            <li><a href="{% url 'logout' %}">Log Out</a></li>

        </ul>
        {% else %} 

        <ul>
            <li><a href="{% url 'poster_app:index' %}">Home</a></li>
            <li><a href="#">Artists</a></li>
            <li><a href="{% url 'poster_app:artist_register' %}">Register</a></li>
            <li><a href="{% url 'poster_app:artist_login' %}">Sign In</a></li>
            <li><a href="{% url 'admin:index' %}">Admin</a></li>
            <li><a href="{% url 'poster_app:cart' %}">Cart</a></li>
        </ul>
        {% endif %}
        
        
        
    </div>
    


    {% block content %}
    
    
    {% endblock %}
    
</body>
</html> 